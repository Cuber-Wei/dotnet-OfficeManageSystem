<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:converters="clr-namespace:OfficeMgtAdmin.Converters"
             x:Class="OfficeMgtAdmin.Views.ItemImportPage"
             Title="物品入库">
    <ContentPage.Resources>
        <converters:ItemTypeConverter x:Key="ItemTypeConverter" />
    </ContentPage.Resources>

    <Grid RowDefinitions="Auto,*" Padding="20">
        <VerticalStackLayout Grid.Row="0" Spacing="10">
            <Label Text="选择物品:" />
            <ListView x:Name="ItemsCollection" 
                     HeightRequest="200"
                     SelectionMode="Single"
                     ItemSelected="OnItemSelected">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <ViewCell>
                            <Grid Padding="10" ColumnDefinitions="*,Auto,Auto">
                                <Label Grid.Column="0" Text="{Binding ItemName}" />
                                <Label Grid.Column="1" Text="{Binding ItemType, Converter={StaticResource ItemTypeConverter}}" Margin="10,0" />
                                <Label Grid.Column="2" Text="{Binding ItemNum, StringFormat='库存: {0}'}" />
                            </Grid>
                        </ViewCell>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>

            <Label x:Name="ItemLabel" Text="请选择物品" />

            <Label Text="入库日期:" />
            <DatePicker x:Name="ImportDatePicker" Format="yyyy-MM-dd" />

            <Label Text="入库数量:" />
            <Entry x:Name="ImportNumEntry" Placeholder="请输入入库数量" Keyboard="Numeric" />

            <Label Text="单价:" />
            <Entry x:Name="SinglePriceEntry" Placeholder="请输入单价" Keyboard="Numeric" />

            <Button Text="保存" Clicked="OnSaveClicked" Margin="0,20,0,0" />
        </VerticalStackLayout>
    </Grid>
</ContentPage> 